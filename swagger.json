{
    "swagger": "2.0",
    "info": {
        "version": "1.0.0",
        "title": "Dashboard API"
    },
    "paths": {
        "/plans": {
            "get": {
                "description": "Gets all `Plans`.\n",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "title": "ArrayOfPlans",
                            "type": "array",
                            "items": {
                                "title": "Plan",
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "integer"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "price": {
                                        "type": "number",
                                        "format": "double"
                                    },
                                    "record_limit": {
                                        "type": "integer"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "description": "Gets a `User`.\n",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/User"
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "User identifier",
                    "type": "integer",
                    "required": true
                }
            ]
        },
        "/users/{id}/accounts": {
            "get": {
                "description": "Get the 'Accounts' that the user is associated with.\n",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "title": "ArrayOfAccounts",
                            "type": "array",
                            "items": {
                                "title": "Account",
                                "$ref": "#/definitions/Account"
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User identifier",
                        "type": "integer",
                        "required": true
                    }
                ]
            }
        },
        "/accounts/{id}": {
            "get": {
                "description": "Gets an `Account`.\n",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/Account"
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Account identifier",
                        "type": "integer",
                        "required": true
                    }
                ]
            }
        },
        "/accounts/{id}/permissions": {
            "get": {
                "description": "Gets `Permissions` for an account user",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                          "properties": {
                              "scope": {
                                  "title": "ArrayOfScopes",
                                  "type": "array",
                                  "items": {
                                      "type": "string"
                                  }
                              }
                          }
                        }
                    }
                }
            },
            "parameters": [
                {
                  "name": "id",
                  "in": "path",
                  "description": "Account identifier",
                  "type": "integer",
                  "required": true
                },
                {
                    "name": "user_id",
                    "in": "query",
                    "description": "User identifier",
                    "type": "integer",
                    "required": true
                }
            ]
        },
        "/accounts/{id}/keys": {
            "get": {
                "description": "Gets `Keys` for an account.",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "properties": {
                                "id": {
                                    "type": "integer"
                                },
                                "key": {
                                    "type": "string"
                                },
                                "scope": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "Account identifier",
                    "type": "integer",
                    "required": true
                }
            ]
        },
        "/authentication_providers": {
            "get": {
                "description": "Gets a list of supported authentication providers.",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "login_url": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "User": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                },
                "email": {
                    "type": "string"
                }
            }
        },
        "Account": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                },
                "plan_id": {
                    "type": "integer"
                },
                "billing_name": {
                    "type": "string"
                },
                "billing_address_line1": {
                    "type": "string"
                },
                "billing_address_line2": {
                    "type": "string"
                },
                "billing_address_city": {
                    "type": "string"
                },
                "billing_address_region": {
                    "type": "string"
                },
                "billing_address_country": {
                    "type": "string"
                },
                "billing_card_type": {
                    "type": "string"
                },
                "billing_card_last4": {
                    "type": "string"
                },
                "billing_card_expiry_month": {
                    "type": "string"
                },
                "billing_card_expiry_year": {
                    "type": "string"
                }
            }
        }
    }
}
